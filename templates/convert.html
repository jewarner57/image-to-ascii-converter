{% extends 'base.html' %}
{% block content %}

<section>
    <div class="col-12 py-5">
        <h1 class="text-center">Conversion Settings</h1>
        <div class="col-xlg-4 col-lg-6 col-md-8 offset-lg-3 offset-xlg-4 offset-md-2">
            <form method='POST' class="form-group" enctype="multipart/form-data">
                <fieldset>

                    <!-- width range slider -->
                    <label for="image-width">Max Width (Characters):</label>
                    <input type="range" min="10" max="200" value="50" class="slider" id="image-width"
                        name="image-width">

                    <!-- height range slider -->
                    <div id="height-slider-container">
                        <label for="image-height">Max Height (Characters):</label>
                        <input type="range" min="10" max="200" value="50" class="slider" id="image-height"
                            name="image-height">
                    </div>
                    <!-- auto set height checkbox -->
                    <div class="form-check mt-2 ml-2">
                        <input type="checkbox" class="form-check-input" id="proportionalheight">
                        <label class="form-check-label ml-2" for="proportionalheight" name="auto-set-height">Auto
                            Determine Height</label>
                    </div>

                    <div class="setting-toggle-wrapper col-12">
                        <label for="setting-toggle-symbols">Character Set:</label>
                        <div class="setting-toggle col-12" id="setting-toggle-symbols">


                            <!-- default charkey dropdown menu -->
                            <select name="" id="charkeydropdown"
                                class="setting-toggle-select form-control col-lg-7 col-12">
                                <option value=". , * / ( # % & @">Symbols Classic</option>
                                <option value="@ & % # ( / * , .">Symbols Inverted</option>
                            </select>


                            <div id="charkeycustom" class="charkeycustom-wrapper hidden col-lg-7 col-12">
                                <!-- custom charkey input -->
                                <input type="text" class="setting-toggle-input form-control col-10" name="charkey">

                                <!-- custom charkey tooltip -->
                                <button type="button" class="btn btn-secondary ml-2 col-2" data-toggle="tooltip"
                                    data-placement="top"
                                    title="Write your custom character key ordered dark to light with one space between each character">
                                    ?
                                </button>
                            </div>


                            <!-- setting toggle button -->
                            <div class="setting-toggle-button setting-toggle-button-select col-lg-4 col-6 ml-2 my-2"
                                id="charkey-toggle">
                                Default
                            </div>
                        </div>
                    </div>

                    <!-- image file upload -->
                    <label for="image-upload" class="imageUpload"><i class="material-icons mr-2"
                            id="upload-icon">cloud_upload</i>Upload
                        Image:</label>
                    <div>
                        <input type="file" class="btn-secondary btn form-control-file m-2" id="image-upload"
                            name="image" accept="image/*" value="{{image}}" multiple="false">
                    </div>

                    <div class="progress my-3 hidden" id="conversion-progress">
                        <div class="progress-bar progress-bar-striped bg-success progress-bar-animated "
                            role="progressbar" style="width:100%">
                        </div>
                    </div>

                    {% for message in get_flashed_messages() %}
                    <p class="errorText">{{message}}</p>
                    {% endfor %}

                    <hr>
                    <!-- submit button -->
                    <input type="submit" class="btn btn-success submit mt-2" id="submit-image"
                        value="Submit and Convert">

                </fieldset>
            </form>
            <div class="size-preview mt-5">
                <h4 class="text-center">Size Preview</h4>
                <p class="dimension-display"></p>
                <div class="ascii-display-container">
                    <div class="ascii-display">

                    </div>
                </div>
            </div>

        </div>
    </div>
</section>
{% endblock content %}

{% block scripts %}
<script type="text/javascript" src="../static/convert.js"></script>
{% endblock scripts %}